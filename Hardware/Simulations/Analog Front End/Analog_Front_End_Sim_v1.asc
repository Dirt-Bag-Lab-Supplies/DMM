Version 4
SHEET 1 8016 1556
WIRE 2656 -784 2112 -784
WIRE 2080 -304 1760 -304
WIRE 1760 -192 1760 -304
WIRE 2080 -192 2080 -304
WIRE 2080 -192 1760 -192
WIRE 2112 -192 2112 -784
WIRE 2656 -192 2656 -784
WIRE 2656 -192 2112 -192
WIRE 1264 32 1136 32
WIRE 1328 32 1264 32
WIRE 1136 80 1136 32
WIRE 1264 96 1264 32
WIRE 1328 96 1328 32
WIRE 1392 96 1392 80
WIRE 1984 112 1824 112
WIRE 2144 112 1984 112
WIRE 2304 112 2224 112
WIRE 2448 112 2304 112
WIRE 2832 112 2448 112
WIRE 1264 128 1264 96
WIRE 1776 128 1552 128
WIRE 2448 128 2448 112
WIRE 2992 128 2880 128
WIRE 3120 128 3072 128
WIRE 3216 128 3120 128
WIRE 2304 144 2304 112
WIRE 2528 144 2496 144
WIRE 2832 144 2832 112
WIRE 1488 160 1408 160
WIRE 1552 160 1552 128
WIRE 1552 160 1488 160
WIRE 3120 160 3120 128
WIRE 2208 192 2208 160
WIRE 2544 192 2496 192
WIRE 2160 224 2160 160
WIRE 2160 224 2048 224
WIRE 2304 224 2304 208
WIRE 2448 224 2448 208
WIRE 2448 224 2304 224
WIRE 3216 224 3216 128
WIRE 3248 224 3216 224
WIRE 1552 240 1552 160
WIRE 2544 240 2544 192
WIRE 2624 240 2544 240
WIRE 3360 240 3312 240
WIRE 3392 240 3360 240
WIRE 1264 256 1264 208
WIRE 1264 256 1216 256
WIRE 1328 256 1328 240
WIRE 1328 256 1264 256
WIRE 2304 256 2304 224
WIRE 2448 256 2448 224
WIRE 3248 256 3216 256
WIRE 1360 272 1360 240
WIRE 2544 272 2544 240
WIRE 2544 272 2496 272
WIRE 3120 272 3120 240
WIRE 1136 288 1136 160
WIRE 2160 304 2160 224
WIRE 2208 304 2208 272
WIRE 1216 320 1216 256
WIRE 1392 320 1392 240
WIRE 2528 320 2496 320
WIRE 1264 352 1264 256
WIRE 1984 352 1824 352
WIRE 2144 352 1984 352
WIRE 2304 352 2304 320
WIRE 2304 352 2224 352
WIRE 2448 352 2448 336
WIRE 2448 352 2304 352
WIRE 2832 352 2448 352
WIRE 2992 368 2880 368
WIRE 3216 368 3216 256
WIRE 3216 368 3072 368
WIRE 3248 368 3216 368
WIRE 3360 368 3360 240
WIRE 3360 368 3328 368
WIRE 1824 384 1824 352
WIRE 2832 384 2832 352
WIRE 1392 400 1392 320
WIRE 1552 400 1552 304
WIRE 1552 400 1392 400
WIRE 1776 400 1552 400
WIRE 1136 464 1136 368
WIRE 1264 464 1264 432
WIRE 1264 464 1136 464
WIRE 2048 560 2048 224
WIRE 2624 560 2624 240
WIRE 2048 672 2048 640
WIRE 2624 672 2624 640
FLAG 1312 -160 0
FLAG 1424 -160 0
FLAG 1312 -240 V+
FLAG 1424 -240 V-
FLAG 1984 112 +AIN
FLAG 1984 352 -AIN
FLAG 2528 144 0
FLAG 2528 320 0
FLAG 2048 672 0
FLAG 2208 272 0
FLAG 2208 192 0
FLAG 3120 272 0
FLAG 2832 -144 0
FLAG 2832 -224 VREF_N
FLAG 3024 -144 0
FLAG 3024 -224 VREF_P
FLAG 2624 672 0
FLAG 2880 448 0
FLAG 2832 432 0
FLAG 2880 208 0
FLAG 2832 192 0
FLAG 1264 96 Vsense
FLAG 1488 160 Vout
FLAG 1072 -240 VS
FLAG 1392 80 VS
FLAG 1184 -160 0
FLAG 1184 -240 VREF
FLAG 1392 320 VREF
FLAG 1824 464 0
FLAG 1776 176 0
FLAG 1776 448 0
FLAG 1824 192 0
FLAG 3392 240 Iout
FLAG 1216 320 0
FLAG 1360 272 0
FLAG 1072 -160 0
SYMBOL voltage 1312 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 37 68 Left 2
SYMATTR InstName V1
SYMATTR Value 12V
SYMBOL voltage 1424 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 41 68 Left 2
SYMATTR InstName V2
SYMATTR Value -12V
SYMBOL cap 1536 240 R0
SYMATTR InstName C1
SYMATTR Value 470p
SYMBOL sw 2240 112 M270
WINDOW 0 23 24 VLeft 2
WINDOW 3 -26 25 VLeft 2
SYMATTR InstName S1
SYMBOL sw 2240 352 R90
WINDOW 0 -23 -5 VRight 2
WINDOW 3 26 -15 VRight 2
SYMATTR InstName S2
SYMBOL sw 2448 112 M0
WINDOW 0 -46 14 Left 2
WINDOW 3 -49 95 Left 2
SYMATTR InstName S3
SYMBOL sw 2448 352 R180
WINDOW 0 -43 98 Left 2
WINDOW 3 -55 11 Left 2
SYMATTR InstName S4
SYMBOL cap 2288 144 R0
SYMATTR InstName C3
SYMATTR Value {Csamp}
SYMBOL cap 2288 256 R0
SYMATTR InstName C4
SYMATTR Value {Csamp}
SYMBOL voltage 2048 544 R0
WINDOW 3 19 103 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 {Tconv} 2n 2n {Tacq} {Tsamp})
SYMATTR InstName V4
SYMBOL Opamps\\opamp 3280 304 M180
WINDOW 0 0 34 Left 2
SYMATTR InstName U7
SYMATTR SpiceLine2 GBW=10G
SYMBOL res 3088 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1G
SYMBOL res 3088 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1G
SYMBOL res 3232 384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 1G
SYMBOL res 3104 144 R0
SYMATTR InstName R10
SYMATTR Value 1G
SYMBOL voltage 2832 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 1 134 Left 2
SYMATTR InstName V6
SYMATTR Value {VREF_L}
SYMBOL voltage 3024 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 -4 138 Left 2
SYMATTR InstName V7
SYMATTR Value {VREF_H}
SYMBOL voltage 2624 544 R0
WINDOW 3 19 103 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 {Tdelta} 2n 2n {Tclk_delay} {Tsamp} 0)
SYMATTR InstName V8
SYMBOL e 2880 112 R0
WINDOW 0 41 67 Left 2
SYMATTR InstName BUF+
SYMATTR Value 1
SYMBOL e 2880 352 R0
WINDOW 0 37 67 Left 2
SYMATTR InstName BUF-
SYMATTR Value 1
SYMBOL voltage 1136 272 R0
WINDOW 3 -237 63 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 -146 96 Left 2
WINDOW 0 8 2 Left 2
SYMATTR Value SINE(0 24 10k)
SYMATTR SpiceLine Rser=50m
SYMATTR InstName V3
SYMBOL res 1248 336 R0
WINDOW 0 -71 27 Left 2
WINDOW 3 -42 63 Left 2
SYMATTR InstName RLoad
SYMATTR Value 24
SYMBOL voltage 1072 -256 R0
SYMATTR InstName VS
SYMATTR Value 5V
SYMBOL res 1248 112 R0
WINDOW 0 -74 104 Left 2
WINDOW 3 -68 74 Left 2
SYMATTR InstName Rsense
SYMATTR Value 100m
SYMBOL voltage 1184 -256 R0
WINDOW 3 23 87 Left 2
SYMATTR Value 2.5V
SYMATTR InstName VREF
SYMBOL e 1824 96 R0
WINDOW 0 36 73 Left 2
WINDOW 3 29 95 Left 2
SYMATTR InstName PGA+
SYMATTR Value 1
SYMBOL e 1824 368 R0
WINDOW 0 38 69 Left 2
SYMATTR InstName PGA-
SYMATTR Value 1
SYMBOL AutoGenerated\\INA185A1 1344 160 R0
SYMATTR InstName U2
SYMBOL res 1120 64 R0
SYMATTR InstName R1
SYMATTR Value 12
TEXT 1768 -224 Left 2 !.tran 0 100u 0 500n
TEXT 1768 -272 Left 2 ;Simulation Settings:
TEXT 2144 -88 Left 2 ;ADS7251 Analog Input Stage
TEXT 2016 -8 Left 2 !.model SW SW(Ron={Rdson} Roff=1G Vt=.5 Vh=-.4)
TEXT 2792 520 Left 2 !.lib opamp.sub
TEXT 2136 -752 Left 2 ;ADC Parameters:
TEXT 2136 -656 Left 2 !.param Csamp = 40p
TEXT 2136 -608 Left 2 !.param Rdson = 50
TEXT 2136 -512 Left 2 !.param Vref_L = 0
TEXT 2136 -560 Left 2 !.param Vref_H = 0.16
TEXT 2136 -456 Left 2 !.param Tconv = 390n
TEXT 2136 -408 Left 2 !.param Tacq = 75n
TEXT 2136 -360 Left 2 !.param Tsamp = 500n
TEXT 2136 -312 Left 2 !.param Tclk_setup = 15n
TEXT 2136 -264 Left 2 !.param Tclk_delay=10n
TEXT 2136 -704 Left 2 !.param Resolution=12
TEXT 2136 -224 Left 2 !.param Tdelta=376n
LINE Normal 2656 576 2656 576 2
RECTANGLE Normal 2704 512 1936 -64 2
