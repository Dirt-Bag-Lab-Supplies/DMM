Version 4
SHEET 1 1648 900
WIRE -464 -288 -672 -288
WIRE -432 -288 -464 -288
WIRE -16 -288 -352 -288
WIRE 96 -288 -16 -288
WIRE 336 -288 96 -288
WIRE 592 -288 336 -288
WIRE 96 -240 96 -288
WIRE 336 -240 336 -288
WIRE 592 -240 592 -288
WIRE 224 -160 144 -160
WIRE 464 -160 384 -160
WIRE 672 -160 640 -160
WIRE 592 -128 592 -144
WIRE 784 -128 592 -128
WIRE 1088 -128 784 -128
WIRE 592 -96 592 -128
WIRE -464 -80 -464 -288
WIRE 336 16 336 -144
WIRE 592 16 592 -16
WIRE 592 16 336 16
WIRE 1088 32 1088 -128
WIRE 1136 32 1088 32
WIRE 336 48 336 16
WIRE 1136 64 1088 64
WIRE 1504 112 1312 112
WIRE 1568 112 1504 112
WIRE 96 160 96 -144
WIRE 336 160 336 128
WIRE 336 160 96 160
WIRE 1088 160 1088 144
WIRE 1136 160 1088 160
WIRE 96 192 96 160
WIRE 224 192 224 -160
WIRE 464 192 464 -160
WIRE 672 192 672 -160
WIRE 1136 192 1088 192
WIRE -464 304 -464 0
WIRE -464 304 -608 304
WIRE -448 304 -464 304
WIRE 0 304 -368 304
WIRE 96 304 96 272
WIRE 96 304 0 304
WIRE 224 304 224 272
WIRE 224 304 96 304
WIRE 464 304 464 272
WIRE 464 304 224 304
WIRE 672 304 672 272
WIRE 672 304 464 304
WIRE 1088 304 1088 192
WIRE 1088 304 672 304
WIRE 1088 352 1088 304
WIRE -672 480 -672 -288
WIRE -496 480 -496 464
WIRE -496 480 -672 480
WIRE -464 480 -496 480
WIRE -80 480 -464 480
WIRE 0 480 -80 480
WIRE 0 560 0 480
WIRE 160 560 0 560
WIRE 320 560 320 528
WIRE 320 560 240 560
WIRE 1024 560 320 560
WIRE 1152 560 1024 560
WIRE -464 592 -464 560
WIRE 0 592 -464 592
WIRE 1152 592 1104 592
WIRE -464 624 -464 592
WIRE 1520 640 1328 640
WIRE 1584 640 1520 640
WIRE 0 656 0 592
WIRE 160 656 0 656
WIRE 320 656 240 656
WIRE 928 656 320 656
WIRE 320 672 320 656
WIRE 1104 688 1104 672
WIRE 1152 688 1104 688
WIRE 928 720 928 656
WIRE 1024 720 928 720
WIRE 1152 720 1024 720
WIRE -80 736 -80 480
WIRE -80 736 -288 736
WIRE -464 784 -464 704
WIRE -608 864 -608 304
WIRE -464 864 -608 864
WIRE 0 864 0 656
FLAG -16 -288 Input
FLAG 0 304 Iout
FLAG 784 -128 Sense
FLAG 1312 -144 0
FLAG 1440 -144 0
FLAG 1568 -144 0
FLAG 1312 -224 Vpos
FLAG 1440 -224 Vneg
FLAG 1568 -224 Vref
FLAG 1168 16 Vpos
FLAG 1168 208 Vneg
FLAG 1248 176 Vref
FLAG 1504 112 ADC_IN
FLAG 1088 352 0
FLAG 1184 544 Vpos
FLAG 1184 736 Vneg
FLAG 1264 704 Vref
FLAG 1520 640 Vadc
FLAG 320 448 0
FLAG 320 752 0
FLAG 1024 560 VINP
FLAG 1024 720 VINN
SYMBOL res 80 176 R0
SYMATTR InstName R1
SYMATTR Value .1
SYMBOL res 320 32 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 576 -112 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL nmos 384 -240 M0
SYMATTR InstName M2
SYMATTR Value BSB012N03LX3
SYMBOL nmos 640 -240 M0
SYMATTR InstName M3
SYMATTR Value BSB012N03MX3
SYMBOL Opamps\\AD8421 1168 112 R0
SYMATTR InstName U1
SYMBOL res 1072 48 R0
SYMATTR InstName R4
SYMATTR Value 1.1k
SYMBOL voltage 1312 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12V
SYMBOL voltage 1440 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -12
SYMBOL voltage 1568 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 0
SYMBOL voltage 224 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL voltage 464 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL voltage 672 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL voltage -464 -96 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value SINE(0 10V 10k)
SYMBOL res -336 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL nmos 144 -240 M0
SYMATTR InstName M1
SYMATTR Value BSB012N03MX3
SYMBOL Opamps\\AD8421 1184 640 R0
SYMATTR InstName U2
SYMBOL res 1088 576 R0
SYMATTR InstName R7
SYMATTR Value 9.9k
SYMBOL res -480 608 R0
SYMATTR InstName R8
SYMATTR Value 500
SYMBOL res -480 768 R0
SYMATTR InstName R9
SYMATTR Value 500
SYMBOL res -480 464 R0
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res 256 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 2Meg
SYMBOL res 336 544 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 1Meg
SYMBOL res 336 768 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 1Meg
SYMBOL res 144 672 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 2Meg
SYMBOL res -464 320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 0
TEXT -498 376 Left 2 !.tran 300us
