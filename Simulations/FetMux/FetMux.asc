Version 4
SHEET 1 1632 680
WIRE -432 -288 -464 -288
WIRE -16 -288 -352 -288
WIRE 96 -288 -16 -288
WIRE 336 -288 96 -288
WIRE 592 -288 336 -288
WIRE 96 -240 96 -288
WIRE 336 -240 336 -288
WIRE 592 -240 592 -288
WIRE 224 -160 144 -160
WIRE 464 -160 384 -160
WIRE 672 -160 640 -160
WIRE 592 -128 592 -144
WIRE 784 -128 592 -128
WIRE 1088 -128 784 -128
WIRE 592 -96 592 -128
WIRE -464 -80 -464 -288
WIRE 336 16 336 -144
WIRE 592 16 592 -16
WIRE 592 16 336 16
WIRE 1088 32 1088 -128
WIRE 1136 32 1088 32
WIRE 336 48 336 16
WIRE 1136 64 1088 64
WIRE 1504 112 1312 112
WIRE 1568 112 1504 112
WIRE 96 160 96 -144
WIRE 336 160 336 128
WIRE 336 160 96 160
WIRE 1088 160 1088 144
WIRE 1136 160 1088 160
WIRE 96 192 96 160
WIRE 224 192 224 -160
WIRE 464 192 464 -160
WIRE 672 192 672 -160
WIRE 1136 192 1088 192
WIRE -464 304 -464 0
WIRE -448 304 -464 304
WIRE 0 304 -368 304
WIRE 96 304 96 272
WIRE 96 304 0 304
WIRE 224 304 224 272
WIRE 224 304 96 304
WIRE 464 304 464 272
WIRE 464 304 224 304
WIRE 672 304 672 272
WIRE 672 304 464 304
WIRE 1088 304 1088 192
WIRE 1088 304 672 304
WIRE 1088 352 1088 304
FLAG -16 -288 Input
FLAG 0 304 Iout
FLAG 784 -128 Sense
FLAG 1312 -144 0
FLAG 1440 -144 0
FLAG 1568 -144 0
FLAG 1312 -224 Vpos
FLAG 1440 -224 Vneg
FLAG 1568 -224 Vref
FLAG 1168 16 Vpos
FLAG 1168 208 Vneg
FLAG 1248 176 Vref
FLAG 1504 112 ADC_IN
FLAG 1088 352 0
SYMBOL res 80 176 R0
SYMATTR InstName R1
SYMATTR Value .1
SYMBOL res 320 32 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 576 -112 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL nmos 384 -240 M0
SYMATTR InstName M2
SYMATTR Value BSB012N03LX3
SYMBOL nmos 640 -240 M0
SYMATTR InstName M3
SYMATTR Value BSB012N03MX3
SYMBOL Opamps\\AD8421 1168 112 R0
SYMATTR InstName U1
SYMBOL res 1072 48 R0
SYMATTR InstName R4
SYMATTR Value 1.1k
SYMBOL voltage 1312 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL voltage 1440 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL voltage 1568 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 0
SYMBOL voltage 224 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage 464 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage 672 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL voltage -464 -96 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value SINE(0 10V 10k)
SYMBOL res -336 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res -352 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 0
SYMBOL nmos 144 -240 M0
SYMATTR InstName M1
SYMATTR Value BSB012N03MX3
TEXT -498 376 Left 2 !.tran 300us
